import pandas as pd
from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.metrics import classification_report

a=pd.read_csv('iris.csv')
print(a.shape)
print(a.info())
print(a.describe())


X_train,X_test,y_train,y_test=train_test_split(a[['petal width','petal width','petal width','petal width']],a[['target']],test_size=0.2,random_state=2)
print(y_train.value_counts())
print(y_test.value_counts())


a=StandardScaler()
X_train_a=a.fit_transform(X_train)
X_test_a=a.transform(X_test)

from sklearn.neighbors import KNeighborsClassifier
knnc=KNeighborsClassifier()
knnc.fit(X_train_a,y_train)
b=knnc.predict(X_test_a)
print("真实结果:",y_test)
print("预测结果:",b)

print(classification_report(y_test,b))
print("预测精度:",knnc.score(X_test_a,y_test))